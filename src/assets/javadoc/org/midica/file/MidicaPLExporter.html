<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>MidicaPLExporter (Midica 0.1567845719 - Javadoc)</title>
<meta name="keywords" content="org.midica.file.MidicaPLExporter class">
<meta name="keywords" content="NEW_LINE">
<meta name="keywords" content="PRIO_INSTR">
<meta name="keywords" content="PRIO_GLOBAL">
<meta name="keywords" content="PRIO_LYRICS">
<meta name="keywords" content="sourceResolution">
<meta name="keywords" content="targetResolution">
<meta name="keywords" content="exportResult">
<meta name="keywords" content="instruments">
<meta name="keywords" content="timeline">
<meta name="keywords" content="noteLength">
<meta name="keywords" content="chords">
<meta name="keywords" content="chordCount">
<meta name="keywords" content="chordsByBaseNote">
<meta name="keywords" content="instrumentHistory">
<meta name="keywords" content="commentHistory">
<meta name="keywords" content="noteHistory">
<meta name="keywords" content="noteOnOff">
<meta name="keywords" content="lyrics">
<meta name="keywords" content="export()">
<meta name="keywords" content="addInstrumentsToTimeline()">
<meta name="keywords" content="addNotesToTimeline()">
<meta name="keywords" content="organizeChords()">
<meta name="keywords" content="makeChordName()">
<meta name="keywords" content="addToTimeline()">
<meta name="keywords" content="readGlobalsFromSequence()">
<meta name="keywords" content="createMidicaPL()">
<meta name="keywords" content="createInstrBlock()">
<meta name="keywords" content="createInstrLine()">
<meta name="keywords" content="createChordDefinitions()">
<meta name="keywords" content="createNoteLines()">
<meta name="keywords" content="appendCommaIfNecessaryAndReturnTrue()">
<meta name="keywords" content="convertLength()">
<meta name="keywords" content="initNoteLengths()">
<meta name="keywords" content="calculateTicks()">
<meta name="keywords" content="createTickComment()">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MidicaPLExporter (Midica 0.1567845719 - Javadoc)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><a href="http://www.midica.org/" target="_top"><b>Midica</b></a><br>0.1567845719</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/midica/file/IParser.html" title="interface in org.midica.file"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/midica/file/MidicaPLParser.html" title="class in org.midica.file"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/midica/file/MidicaPLExporter.html" target="_top">Frames</a></li>
<li><a href="MidicaPLExporter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.midica.file</div>
<h2 title="Class MidicaPLExporter" class="title">Class MidicaPLExporter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../org/midica/file/Exporter.html" title="class in org.midica.file">org.midica.file.Exporter</a></li>
<li>
<ul class="inheritance">
<li>org.midica.file.MidicaPLExporter</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">MidicaPLExporter</span>
extends <a href="../../../org/midica/file/Exporter.html" title="class in org.midica.file">Exporter</a></pre>
<div class="block"><p>This class is used to export the currently loaded MIDI sequence as a MidicaPL source file.</p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Jan Trukenm√ºller</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.TreeMap&lt;java.lang.String,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#chordCount">chordCount</a></span></code>
<div class="block">lowest note &ndash; chord count</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.TreeMap&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#chords">chords</a></span></code>
<div class="block">comma-separated note bytes &ndash; chord name</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.TreeMap&lt;java.lang.String,java.util.ArrayList&lt;java.lang.String&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#chordsByBaseNote">chordsByBaseNote</a></span></code>
<div class="block">lowest note &ndash; comma-separated note bytes (This structure is only needed for the sorting: lowest note first, then chord name)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.TreeMap&lt;java.lang.Byte,java.util.TreeMap&lt;java.lang.Long,java.lang.String&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#commentHistory">commentHistory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../org/midica/file/ExportResult.html" title="class in org.midica.file">ExportResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#exportResult">exportResult</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.TreeMap&lt;java.lang.Byte,java.util.TreeMap&lt;java.lang.Long,java.lang.Byte[]&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#instrumentHistory">instrumentHistory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.TreeMap&lt;java.lang.Byte,<a href="../../../org/midica/file/Instrument.html" title="class in org.midica.file">Instrument</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#instruments">instruments</a></span></code>
<div class="block">stores the current state of each channel</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.TreeMap&lt;java.lang.Long,java.util.TreeMap&lt;java.lang.Long,java.lang.String&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#lyrics">lyrics</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#NEW_LINE">NEW_LINE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.TreeMap&lt;java.lang.Byte,java.util.TreeMap&lt;java.lang.Long,java.util.TreeMap&lt;java.lang.Byte,java.lang.Byte&gt;&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#noteHistory">noteHistory</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.TreeMap&lt;java.lang.Long,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#noteLength">noteLength</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.TreeMap&lt;java.lang.Byte,java.util.TreeMap&lt;java.lang.Byte,java.util.TreeMap&lt;java.lang.Long,java.lang.Boolean&gt;&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#noteOnOff">noteOnOff</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#PRIO_GLOBAL">PRIO_GLOBAL</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#PRIO_INSTR">PRIO_INSTR</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#PRIO_LYRICS">PRIO_LYRICS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#sourceResolution">sourceResolution</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#targetResolution">targetResolution</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.TreeMap&lt;java.lang.Long,java.util.TreeMap&lt;java.lang.Integer,java.util.HashMap&lt;java.lang.String,java.lang.Object&gt;&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#timeline">timeline</a></span></code>
<div class="block">tick &ndash; priority (-5: instr; -3: global; channel) &ndash; key (cmd, end_tick, &hellip;) &ndash; value
The value type depends on the key:

  instr: null
  

TODO: complete docu</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#MidicaPLExporter--">MidicaPLExporter</a></span>()</code>
<div class="block">Creates a new MidicaPL exporter.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#addInstrumentsToTimeline--">addInstrumentsToTimeline</a></span>()</code>
<div class="block">Adds all ticks to the timeline with at least one instrument change.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#addNotesToTimeline--">addNotesToTimeline</a></span>()</code>
<div class="block">Fills the timeline structure with note-on events regarding chords and single notes.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#addToTimeline-long-int-java.lang.String-java.lang.Object-">addToTimeline</a></span>(long&nbsp;tick,
             int&nbsp;priority,
             java.lang.String&nbsp;key,
             java.lang.Object&nbsp;value)</code>
<div class="block">Adds the given values to the timeline structure.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#appendCommaIfNecessaryAndReturnTrue-boolean-java.lang.StringBuilder-">appendCommaIfNecessaryAndReturnTrue</a></span>(boolean&nbsp;isNecessary,
                                   java.lang.StringBuilder&nbsp;str)</code>
<div class="block">Appends an option separator to the given string, if the given <strong>isNecessary</strong> parameter is <strong>true</strong>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#calculateTicks-int-int-">calculateTicks</a></span>(int&nbsp;factor,
              int&nbsp;divisor)</code>
<div class="block">Calculates the tick length of a note, based on the current MIDI sequence&rsquo;s resolution and in relation to a quarter note.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#convertLength-long-">convertLength</a></span>(long&nbsp;ticks)</code>
<div class="block">Converts the given number of ticks into the MidicaPL note length information.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#createChordDefinitions--">createChordDefinitions</a></span>()</code>
<div class="block">Creates the CHORD definitions.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#createInstrBlock-long-">createInstrBlock</a></span>(long&nbsp;tick)</code>
<div class="block">Creates an INSTRUMENTS block.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#createInstrLine-long-byte-">createInstrLine</a></span>(long&nbsp;tick,
               byte&nbsp;channel)</code>
<div class="block">Creates one line inside an INSTRUMENTS block.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#createMidicaPL--">createMidicaPL</a></span>()</code>
<div class="block">Creates the MidicaPL string to be written into the export file.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#createNoteLines-int-java.util.HashMap-">createNoteLines</a></span>(int&nbsp;channel,
               java.util.HashMap&lt;java.lang.String,java.lang.Object&gt;&nbsp;content)</code>
<div class="block">Creates lines for all notes or chords that are played in a certain channel at a certain tick.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#createTickComment-long-">createTickComment</a></span>(long&nbsp;tick)</code>
<div class="block">Creates a comment line giving the current tick.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../org/midica/file/ExportResult.html" title="class in org.midica.file">ExportResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#export-java.io.File-">export</a></span>(java.io.File&nbsp;file)</code>
<div class="block">Exports a MidicaPL source file.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private java.util.TreeMap&lt;java.lang.Long,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#initNoteLengths--">initNoteLengths</a></span>()</code>
<div class="block">Calculates which tick length corresponds to which note length.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#makeChordName-java.util.TreeSet-java.lang.String-">makeChordName</a></span>(java.util.TreeSet&lt;java.lang.Byte&gt;&nbsp;notes,
             java.lang.String&nbsp;csvNotes)</code>
<div class="block">Creates a new unique name for the chord consisting of the given notes.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#organizeChords-java.util.TreeMap-">organizeChords</a></span>(java.util.TreeMap&lt;java.lang.String,java.util.TreeMap&lt;java.lang.String,java.lang.String&gt;&gt;&nbsp;notes)</code>
<div class="block">Receives the notes that are pressed at one tick and channel.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/midica/file/MidicaPLExporter.html#readGlobalsFromSequence--">readGlobalsFromSequence</a></span>()</code>
<div class="block">Reads global information from the currently loaded MIDI sequence.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.midica.file.Exporter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.midica.file.<a href="../../../org/midica/file/Exporter.html" title="class in org.midica.file">Exporter</a></h3>
<code><a href="../../../org/midica/file/Exporter.html#createFile-java.io.File-">createFile</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NEW_LINE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NEW_LINE</h4>
<pre>private static final&nbsp;java.lang.String NEW_LINE</pre>
</li>
</ul>
<a name="PRIO_INSTR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PRIO_INSTR</h4>
<pre>private static final&nbsp;int PRIO_INSTR</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.midica.file.MidicaPLExporter.PRIO_INSTR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PRIO_GLOBAL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PRIO_GLOBAL</h4>
<pre>private static final&nbsp;int PRIO_GLOBAL</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.midica.file.MidicaPLExporter.PRIO_GLOBAL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PRIO_LYRICS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PRIO_LYRICS</h4>
<pre>private static final&nbsp;int PRIO_LYRICS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.midica.file.MidicaPLExporter.PRIO_LYRICS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="sourceResolution">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sourceResolution</h4>
<pre>private static&nbsp;int sourceResolution</pre>
</li>
</ul>
<a name="targetResolution">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>targetResolution</h4>
<pre>private static&nbsp;int targetResolution</pre>
</li>
</ul>
<a name="exportResult">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exportResult</h4>
<pre>private static&nbsp;<a href="../../../org/midica/file/ExportResult.html" title="class in org.midica.file">ExportResult</a> exportResult</pre>
</li>
</ul>
<a name="instruments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instruments</h4>
<pre>private static&nbsp;java.util.TreeMap&lt;java.lang.Byte,<a href="../../../org/midica/file/Instrument.html" title="class in org.midica.file">Instrument</a>&gt; instruments</pre>
<div class="block"><p>stores the current state of each channel</p></div>
</li>
</ul>
<a name="timeline">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timeline</h4>
<pre>private static&nbsp;java.util.TreeMap&lt;java.lang.Long,java.util.TreeMap&lt;java.lang.Integer,java.util.HashMap&lt;java.lang.String,java.lang.Object&gt;&gt;&gt; timeline</pre>
<div class="block"><p>tick &ndash; priority (-5: instr; -3: global; channel) &ndash; key (cmd, end_tick, &hellip;) &ndash; value</p>
<p>The value type depends on the key:</p>
<ul>
  <li>instr: null</li>
  <li></li>
</ul>
<p>TODO: complete docu</p></div>
</li>
</ul>
<a name="noteLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noteLength</h4>
<pre>private static&nbsp;java.util.TreeMap&lt;java.lang.Long,java.lang.String&gt; noteLength</pre>
</li>
</ul>
<a name="chords">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>chords</h4>
<pre>private static&nbsp;java.util.TreeMap&lt;java.lang.String,java.lang.String&gt; chords</pre>
<div class="block"><p>comma-separated note bytes &ndash; chord name</p></div>
</li>
</ul>
<a name="chordCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>chordCount</h4>
<pre>private static&nbsp;java.util.TreeMap&lt;java.lang.String,java.lang.Integer&gt; chordCount</pre>
<div class="block"><p>lowest note &ndash; chord count</p></div>
</li>
</ul>
<a name="chordsByBaseNote">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>chordsByBaseNote</h4>
<pre>private static&nbsp;java.util.TreeMap&lt;java.lang.String,java.util.ArrayList&lt;java.lang.String&gt;&gt; chordsByBaseNote</pre>
<div class="block"><p>lowest note &ndash; comma-separated note bytes (This structure is only needed for the sorting: lowest note first, then chord name)</p></div>
</li>
</ul>
<a name="instrumentHistory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instrumentHistory</h4>
<pre>private static&nbsp;java.util.TreeMap&lt;java.lang.Byte,java.util.TreeMap&lt;java.lang.Long,java.lang.Byte[]&gt;&gt; instrumentHistory</pre>
</li>
</ul>
<a name="commentHistory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commentHistory</h4>
<pre>private static&nbsp;java.util.TreeMap&lt;java.lang.Byte,java.util.TreeMap&lt;java.lang.Long,java.lang.String&gt;&gt; commentHistory</pre>
</li>
</ul>
<a name="noteHistory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noteHistory</h4>
<pre>private static&nbsp;java.util.TreeMap&lt;java.lang.Byte,java.util.TreeMap&lt;java.lang.Long,java.util.TreeMap&lt;java.lang.Byte,java.lang.Byte&gt;&gt;&gt; noteHistory</pre>
</li>
</ul>
<a name="noteOnOff">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noteOnOff</h4>
<pre>private static&nbsp;java.util.TreeMap&lt;java.lang.Byte,java.util.TreeMap&lt;java.lang.Byte,java.util.TreeMap&lt;java.lang.Long,java.lang.Boolean&gt;&gt;&gt; noteOnOff</pre>
</li>
</ul>
<a name="lyrics">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lyrics</h4>
<pre>private static&nbsp;java.util.TreeMap&lt;java.lang.Long,java.util.TreeMap&lt;java.lang.Long,java.lang.String&gt;&gt; lyrics</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MidicaPLExporter--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MidicaPLExporter</h4>
<pre>public&nbsp;MidicaPLExporter()</pre>
<div class="block"><p>Creates a new MidicaPL exporter.</p></div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="export-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>export</h4>
<pre>public&nbsp;<a href="../../../org/midica/file/ExportResult.html" title="class in org.midica.file">ExportResult</a>&nbsp;export(java.io.File&nbsp;file)
                    throws <a href="../../../org/midica/file/ExportException.html" title="class in org.midica.file">ExportException</a></pre>
<div class="block"><p>Exports a MidicaPL source file.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/midica/file/Exporter.html#export-java.io.File-">export</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/midica/file/Exporter.html" title="class in org.midica.file">Exporter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - MidicaPL source file.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>warnings that occured during the export.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/midica/file/ExportException.html" title="class in org.midica.file">ExportException</a></code> - if the file can not be exported correctly.</dd>
</dl>
</li>
</ul>
<a name="addInstrumentsToTimeline--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addInstrumentsToTimeline</h4>
<pre>private&nbsp;void&nbsp;addInstrumentsToTimeline()</pre>
<div class="block"><p>Adds all ticks to the timeline with at least one instrument change.</p></div>
</li>
</ul>
<a name="addNotesToTimeline--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addNotesToTimeline</h4>
<pre>private&nbsp;void&nbsp;addNotesToTimeline()</pre>
<div class="block"><p>Fills the timeline structure with note-on events regarding chords and single notes.</p></div>
</li>
</ul>
<a name="organizeChords-java.util.TreeMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>organizeChords</h4>
<pre>private&nbsp;void&nbsp;organizeChords(java.util.TreeMap&lt;java.lang.String,java.util.TreeMap&lt;java.lang.String,java.lang.String&gt;&gt;&nbsp;notes)</pre>
<div class="block"><p>Receives the notes that are pressed at one tick and channel. Puts them together as chords, if possible.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>notes</code> - Notes, pressed at a certain tick in a certain channel.</dd>
</dl>
</li>
</ul>
<a name="makeChordName-java.util.TreeSet-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeChordName</h4>
<pre>private&nbsp;java.lang.String&nbsp;makeChordName(java.util.TreeSet&lt;java.lang.Byte&gt;&nbsp;notes,
                                       java.lang.String&nbsp;csvNotes)</pre>
<div class="block"><p>Creates a new unique name for the chord consisting of the given notes.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>notes</code> - The notes of the chord.</dd>
<dd><code>csvNotes</code> - Comma-separated note bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new chord name.</dd>
</dl>
</li>
</ul>
<a name="addToTimeline-long-int-java.lang.String-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToTimeline</h4>
<pre>private&nbsp;void&nbsp;addToTimeline(long&nbsp;tick,
                           int&nbsp;priority,
                           java.lang.String&nbsp;key,
                           java.lang.Object&nbsp;value)</pre>
<div class="block"><p>Adds the given values to the timeline structure.</p>
<p>TODO: complete docu</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tick</code> - </dd>
<dd><code>priority</code> - </dd>
<dd><code>key</code> - </dd>
<dd><code>value</code> - </dd>
</dl>
</li>
</ul>
<a name="readGlobalsFromSequence--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readGlobalsFromSequence</h4>
<pre>private&nbsp;int&nbsp;readGlobalsFromSequence()
                             throws <a href="../../../org/midica/file/ExportException.html" title="class in org.midica.file">ExportException</a></pre>
<div class="block"><p>Reads global information from the currently loaded MIDI sequence.</p>
<p>The following information is read:</p>
<ul>
  <li>tempo changes (they are added to the timeline directly)</li>
  <li>resolution (ticks per quarter note)</li>
</ul>
<p>Creates warnings for ignored short messages.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>resolution of the loaded MIDI sequence (ticks per quarter note)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/midica/file/ExportException.html" title="class in org.midica.file">ExportException</a></code></dd>
</dl>
</li>
</ul>
<a name="createMidicaPL--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMidicaPL</h4>
<pre>private&nbsp;java.lang.String&nbsp;createMidicaPL()</pre>
<div class="block"><p>Creates the MidicaPL string to be written into the export file.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>MidicaPL string to be written into the export file</dd>
</dl>
</li>
</ul>
<a name="createInstrBlock-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInstrBlock</h4>
<pre>private&nbsp;java.lang.String&nbsp;createInstrBlock(long&nbsp;tick)</pre>
<div class="block"><p>Creates an INSTRUMENTS block.</p>
<p>If this is the initial INSTRUMENTS block (tick == 0), the block contains all channels used in the MIDI sequence.</p>
<p>Otherwise (tick &gt; 0) it includes only the instruments that have a program change at the given tick.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tick</code> - <strong>0</strong> for the initial block; higher values for later instrument changes</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the initial INSTRUMENTS block.</dd>
</dl>
</li>
</ul>
<a name="createInstrLine-long-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createInstrLine</h4>
<pre>private&nbsp;java.lang.String&nbsp;createInstrLine(long&nbsp;tick,
                                         byte&nbsp;channel)</pre>
<div class="block"><p>Creates one line inside an INSTRUMENTS block.</p>
<p>Returns an empty string, if no notes are played in the given channel.</p>
<p>At the beginning this method is called for each channel (0-15). This considers:</p>
<ul>
  <li>bank selects at tick 0</li>
  <li>program changes at tick 0</li>
  <li>channels without a program change that are used anyway</li>
</ul>
<p>Afterwards this method is called for every tick that contains a program change at a tick higher than 0.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tick</code> - The tickstamp of the program change event; or <strong>0</strong> during the initialization.</dd>
<dd><code>channel</code> - The channel number.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the instrument line or an empty string, if the channel is not used.</dd>
</dl>
</li>
</ul>
<a name="createChordDefinitions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createChordDefinitions</h4>
<pre>private&nbsp;java.lang.String&nbsp;createChordDefinitions()</pre>
<div class="block"><p>Creates the CHORD definitions.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the CHORD commands.</dd>
</dl>
</li>
</ul>
<a name="createNoteLines-int-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNoteLines</h4>
<pre>private&nbsp;java.lang.String&nbsp;createNoteLines(int&nbsp;channel,
                                         java.util.HashMap&lt;java.lang.String,java.lang.Object&gt;&nbsp;content)</pre>
<div class="block"><p>Creates lines for all notes or chords that are played in a certain channel at a certain tick.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>channel</code> - MIDI channel.</dd>
<dd><code>content</code> - notes structure for this tick and channel.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the created line(s).</dd>
</dl>
</li>
</ul>
<a name="appendCommaIfNecessaryAndReturnTrue-boolean-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendCommaIfNecessaryAndReturnTrue</h4>
<pre>private&nbsp;boolean&nbsp;appendCommaIfNecessaryAndReturnTrue(boolean&nbsp;isNecessary,
                                                    java.lang.StringBuilder&nbsp;str)</pre>
<div class="block"><p>Appends an option separator to the given string, if the given <strong>isNecessary</strong> parameter is <strong>true</strong>.</p>
<p>Otherwise, does nothing.</p>
<p>Always returns <strong>true</strong>, so we can make the calling code one line shorter.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isNecessary</code> - Determins, if the append is needed or not.</dd>
<dd><code>str</code> - String to append.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><strong>true</strong>.</dd>
</dl>
</li>
</ul>
<a name="convertLength-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>convertLength</h4>
<pre>private&nbsp;java.lang.String[]&nbsp;convertLength(long&nbsp;ticks)</pre>
<div class="block"><p>Converts the given number of ticks into the MidicaPL note length information.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ticks</code> - note length in ticks from the source resolution</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>array containing 2 elements:  - note length information in MidicaPL format  - staccato value</dd>
</dl>
</li>
</ul>
<a name="initNoteLengths--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initNoteLengths</h4>
<pre>private&nbsp;java.util.TreeMap&lt;java.lang.Long,java.lang.String&gt;&nbsp;initNoteLengths()</pre>
<div class="block"><p>Calculates which tick length corresponds to which note length. That depends on the resolution of the current MIDI sequence.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Mapping between tick length and note length for the syntax.</dd>
</dl>
</li>
</ul>
<a name="calculateTicks-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateTicks</h4>
<pre>private&nbsp;int&nbsp;calculateTicks(int&nbsp;factor,
                           int&nbsp;divisor)</pre>
<div class="block"><p>Calculates the tick length of a note, based on the current MIDI sequence&rsquo;s resolution and in relation to a quarter note. The given factor and divisor influences the resulting note length. If factor and divisor are the same, the resulting length is exactly one quarter note.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>factor</code> - </dd>
<dd><code>divisor</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>mathematically rounded result of resolution * factor / divisor</dd>
</dl>
</li>
</ul>
<a name="createTickComment-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createTickComment</h4>
<pre>private&nbsp;java.lang.String&nbsp;createTickComment(long&nbsp;tick)</pre>
<div class="block"><p>Creates a comment line giving the current tick.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tick</code> - MIDI tickstamp.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the comment string.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><script type="text/javascript" src="../../../highlight.pack.js"></script>
<script type="text/javascript"><!--
hljs.initHighlightingOnLoad();
//--></script></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/midica/file/IParser.html" title="interface in org.midica.file"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/midica/file/MidicaPLParser.html" title="class in org.midica.file"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/midica/file/MidicaPLExporter.html" target="_top">Frames</a></li>
<li><a href="MidicaPLExporter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
